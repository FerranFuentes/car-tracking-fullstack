#+title: Instructions

** Running the dev enviromment
Run docker and open a shell inside the backend container

#+begin_src sh
  docker-compose run --service-ports backend
  cargo make --profile dev backend-run # to run the backend listening on port 8080
#+end_src

*** MariaDB

To also open a shell in the mariadb container run this command on another terminal:

#+begin_src sh
  docker exec -ti mariadb /bin/bash
  mysql -U db -prust
#+end_src

** Testing a local deploy

To run everything remove the comment: =# command: ...= on =docker-compose.yml=, then:

#+begin_src sh
  docker-compose up -d
#+end_src

This will leave the service exposed at port 8080 of the container and also
on the localhost.

** Removing docker images and containers

Si la liais asi se borra todo lo del docker:

#+begin_src sh
  docker rm -f $(docker ps -aq)
  docker rmi -f $(docker images -aq)
  docker volume rm $(docker volume ls -q)
#+end_src

** Endpoints
Endpoint information at [[file:backend/test/tests.org][endpoints]]
